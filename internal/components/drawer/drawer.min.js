(()=>{(function(){let d=new Map;function w(i,t){document.querySelectorAll(`[data-drawer-trigger="${i}"]`).forEach(e=>{e.setAttribute("data-open",t)})}function g(i,t){if(t)return"translate(0)";switch(i){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)";default:return"translateX(100%)"}}function E(i){let t=i.id,e=document.getElementById(t+"-content"),v=e?.getAttribute("data-drawer-position")||"right",u=i.hasAttribute("data-initial-open");if(!e||!t)return null;let a=u;function l(n){a=n;let s=n?"block":"none",o=n?"1":"0";i.style.display=s,e.style.display=s,i.style.opacity=o,e.style.opacity=o,e.style.transform=g(v,n),i.setAttribute("data-open",n),w(t,n),document.body.style.overflow=n?"hidden":""}function y(){i.style.display="block",e.style.display="block",e.offsetHeight,i.style.transition="opacity 300ms ease",e.style.transition="opacity 300ms ease, transform 300ms ease",l(!0),i.addEventListener("click",r),document.addEventListener("keydown",f),document.addEventListener("click",m)}function r(){l(!1),i.removeEventListener("click",r),document.removeEventListener("keydown",f),document.removeEventListener("click",m),setTimeout(()=>{a||(i.style.display="none",e.style.display="none")},300)}function A(){a?r():y()}function f(n){n.key==="Escape"&&a&&r()}function m(n){!e.contains(n.target)&&!h(n.target)&&r()}function h(n){let s=document.querySelectorAll(`[data-drawer-trigger="${t}"]`);return Array.from(s).some(o=>o.contains(n))}return e.querySelectorAll("[data-drawer-close]").forEach(n=>{n.addEventListener("click",r)}),e.querySelector("[data-drawer-inner]")?.addEventListener("click",n=>{n.stopPropagation()}),l(u),{open:y,close:r,toggle:A}}function c(i=document){i.querySelectorAll('[data-component="drawer"]').forEach(t=>{if(t.dataset.initialized)return;t.dataset.initialized="true";let e=E(t);e&&t.id&&d.set(t.id,e)}),i.querySelectorAll("[data-drawer-trigger]").forEach(t=>{if(t.dataset.initialized)return;t.dataset.initialized="true";let e=t.getAttribute("data-drawer-trigger");t.addEventListener("click",()=>{d.get(e)?.toggle()})})}window.templUI=window.templUI||{},window.templUI.drawer={initAllComponents:c},document.addEventListener("DOMContentLoaded",()=>c())})();})();
