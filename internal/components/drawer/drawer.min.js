(()=>{(function(){let d=new Map;function w(t,e){document.querySelectorAll(`[data-drawer-trigger="${t}"]`).forEach(n=>{n.setAttribute("data-open",e)})}function g(t,e){if(e)return"translate(0)";switch(t){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)";default:return"translateX(100%)"}}function E(t){if(!t||t.hasAttribute("data-initialized"))return null;t.setAttribute("data-initialized","true");let e=t.id,n=document.getElementById(e+"-content"),A=n?.getAttribute("data-drawer-position")||"right",u=t.hasAttribute("data-initial-open");if(!n||!e)return null;let a=u;function o(i){a=i;let s=i?"block":"none",l=i?"1":"0";i&&(t.style.display=s,n.style.display=s,n.offsetHeight,t.style.transition="opacity 300ms ease",n.style.transition="opacity 300ms ease, transform 300ms ease"),t.style.opacity=l,n.style.opacity=l,n.style.transform=g(A,i),t.setAttribute("data-open",i),w(e,i),document.body.style.overflow=i?"hidden":""}function f(){o(!0),t.addEventListener("click",r),document.addEventListener("keydown",y),document.addEventListener("click",m)}function r(){o(!1),t.removeEventListener("click",r),document.removeEventListener("keydown",y),document.removeEventListener("click",m),setTimeout(()=>{a||(t.style.display="none",n.style.display="none")},300)}function h(){a?r():f()}function y(i){i.key==="Escape"&&a&&r()}function m(i){!n.contains(i.target)&&!v(i.target)&&r()}function v(i){let s=document.querySelectorAll(`[data-drawer-trigger="${e}"]`);return Array.from(s).some(l=>l.contains(i))}return n.querySelectorAll("[data-drawer-close]").forEach(i=>{i.addEventListener("click",r)}),o(u),{open:f,close:r,toggle:h}}function c(t=document){t.querySelectorAll('[data-component="drawer"]:not([data-initialized])').forEach(e=>{let n=E(e);n&&e.id&&d.set(e.id,n)}),t.querySelectorAll("[data-drawer-trigger]").forEach(e=>{if(e.dataset.initialized)return;e.dataset.initialized="true";let n=e.getAttribute("data-drawer-trigger");e.addEventListener("click",()=>{d.get(n)?.toggle()})})}window.templUI=window.templUI||{},window.templUI.drawer={init:c},document.addEventListener("DOMContentLoaded",()=>c())})();})();
