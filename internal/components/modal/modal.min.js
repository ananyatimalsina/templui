(()=>{typeof window.modalState>"u"&&(window.modalState={openModalId:null});(function(){function a(t,e=!1){if(!t||t.style.display==="none")return;let n=t.querySelector("[data-modal-content]"),d=t.id;t.classList.remove("opacity-100"),t.classList.add("opacity-0"),n&&(n.classList.remove("scale-100","opacity-100"),n.classList.add("scale-95","opacity-0"));function o(){t.style.display="none",window.modalState.openModalId===d&&(window.modalState.openModalId=null,document.body.style.overflow="")}e?o():setTimeout(o,300)}function i(t){if(!t)return;if(window.modalState.openModalId){let n=document.getElementById(window.modalState.openModalId);n&&n!==t&&a(n,!0)}let e=t.querySelector("[data-modal-content]");t.style.display="flex",window.modalState.openModalId=t.id,document.body.style.overflow="hidden",t.offsetHeight,t.classList.remove("opacity-0"),t.classList.add("opacity-100"),e&&(e.classList.remove("scale-95","opacity-0"),e.classList.add("scale-100","opacity-100"),setTimeout(()=>{let n=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n&&n.focus()},50))}function f(t,e=!1){let n=document.getElementById(t);n&&a(n,e)}function u(t){let e=document.getElementById(t);e&&i(e)}function r(t){let e=window.modalState.openModalId;if(!e)return;let n=document.getElementById(e);if(!n||n.getAttribute("data-disable-click-away")==="true")return;let d=n.querySelector("[data-modal-content]"),o=t.target.closest("[data-modal-trigger]");d&&!d.contains(t.target)&&(!o||o.getAttribute("data-modal-target-id")!==e)&&a(n)}function m(t){if(t.key!=="Escape"||!window.modalState.openModalId)return;let e=document.getElementById(window.modalState.openModalId);e&&e.getAttribute("data-disable-esc")!=="true"&&a(e)}function l(t){let e=t.getAttribute("data-modal-target-id");e&&t.addEventListener("click",()=>{!t.hasAttribute("disabled")&&!t.classList.contains("opacity-50")&&u(e)})}function c(t){t.addEventListener("click",()=>{let e=t.getAttribute("data-modal-target-id");if(e)f(e);else{let n=t.closest("[data-modal]");n&&n.id&&a(n)}})}function s(t=document){t instanceof Element&&t.matches("[data-modal-trigger]")&&l(t);for(let e of t.querySelectorAll("[data-modal-trigger]"))l(e);t instanceof Element&&t.matches("[data-modal-close]")&&c(t);for(let e of t.querySelectorAll("[data-modal-close]"))c(e);t instanceof Element&&t.matches("[data-modal][data-initial-open='true']")&&i(t);for(let e of t.querySelectorAll("[data-modal][data-initial-open='true']"))i(e)}window.templUI||(window.templUI={}),window.templUI.modal={initAllComponents:s},typeof window.modalEventsInitialized>"u"&&(document.addEventListener("click",r),document.addEventListener("keydown",m),window.modalEventsInitialized=!0),document.addEventListener("DOMContentLoaded",()=>s())})();})();
