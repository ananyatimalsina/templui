(()=>{(function(){let l=new Map,n=null;function p(t,e){document.querySelectorAll(`[data-tui-modal-trigger="${t}"]`).forEach(a=>{a.setAttribute("data-tui-modal-trigger-open",e)})}function g(t){if(!t||t.hasAttribute("data-tui-modal-initialized"))return null;t.setAttribute("data-tui-modal-initialized","true");let e=t.id,a=t.querySelector("[data-tui-modal-content]"),r=t.hasAttribute("data-tui-modal-initial-open");if(!a||!e)return null;let o=r;function c(i){o=i,t.style.display=i?"flex":"none",t.setAttribute("data-tui-modal-open",i),p(e,i),i?(n=e,document.body.style.overflow="hidden",t.classList.remove("opacity-0"),t.classList.add("opacity-100"),a.classList.remove("scale-95","opacity-0"),a.classList.add("scale-100","opacity-100"),setTimeout(()=>{a.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()},50)):(n===e&&(n=null,document.body.style.overflow=""),t.classList.remove("opacity-100"),t.classList.add("opacity-0"),a.classList.remove("scale-100","opacity-100"),a.classList.add("scale-95","opacity-0"))}function f(){n&&n!==e&&l.get(n)?.close(!0),t.style.display="flex",t.offsetHeight,c(!0),document.addEventListener("keydown",y),document.addEventListener("click",m)}function s(i=!1){c(!1),document.removeEventListener("keydown",y),document.removeEventListener("click",m),i||setTimeout(()=>{o||(t.style.display="none")},300)}function b(){o?s():f()}function y(i){i.key==="Escape"&&o&&t.getAttribute("data-tui-modal-disable-esc")!=="true"&&s()}function m(i){t.getAttribute("data-tui-modal-disable-click-away")!=="true"&&!a.contains(i.target)&&!L(i.target)&&s()}function L(i){let d=i.closest("[data-tui-modal-trigger]");return d&&d.getAttribute("data-tui-modal-trigger")===e}return t.querySelectorAll("[data-tui-modal-close]").forEach(i=>{i.addEventListener("click",s)}),c(r),{open:f,close:s,toggle:b}}function u(t=document){t.querySelectorAll("[data-tui-modal]:not([data-tui-modal-initialized])").forEach(e=>{let a=g(e);a&&e.id&&l.set(e.id,a)}),t.querySelectorAll("[data-tui-modal-trigger]").forEach(e=>{if(e.dataset.tuiModalInitialized)return;e.dataset.tuiModalInitialized="true";let a=e.getAttribute("data-tui-modal-trigger");e.addEventListener("click",()=>{!e.hasAttribute("disabled")&&!e.classList.contains("opacity-50")&&l.get(a)?.toggle()})})}window.templUI=window.templUI||{},window.templUI.modal={init:u},document.addEventListener("DOMContentLoaded",()=>u())})();})();
