(()=>{(function(){"use strict";function g(e){if(!e)return null;let t=e.split("-");if(t.length!==3)return null;let a=parseInt(t[0],10),n=parseInt(t[1],10)-1,r=parseInt(t[2],10),d=new Date(Date.UTC(a,n,r));return d.getUTCFullYear()===a&&d.getUTCMonth()===n&&d.getUTCDate()===r?d:null}function m(e){try{return Array.from({length:12},(t,a)=>new Intl.DateTimeFormat(e,{month:"long",timeZone:"UTC"}).format(new Date(Date.UTC(2e3,a,1))))}catch{return["January","February","March","April","May","June","July","August","September","October","November","December"]}}function y(e,t){try{return Array.from({length:7},(a,n)=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(Date.UTC(2e3,0,n+2+t))))}catch{return["Su","Mo","Tu","We","Th","Fr","Sa"]}}function l(e){return{currentMonth:parseInt(e.dataset.tuiCalendarCurrentMonth)||new Date().getMonth(),currentYear:parseInt(e.dataset.tuiCalendarCurrentYear)||new Date().getFullYear(),selectedDate:e.dataset.tuiCalendarSelectedDate?g(e.dataset.tuiCalendarSelectedDate):null,locale:e.getAttribute("data-tui-calendar-locale-tag")||"en-US",startOfWeek:parseInt(e.getAttribute("data-tui-calendar-start-of-week"))||1}}function c(e,t,a,n=null){e.dataset.tuiCalendarCurrentMonth=t,e.dataset.tuiCalendarCurrentYear=a,n?e.dataset.tuiCalendarSelectedDate=n.toISOString().split("T")[0]:delete e.dataset.tuiCalendarSelectedDate}function h(e){let a=e.closest("[data-tui-calendar-wrapper]")?.querySelector("[data-tui-calendar-hidden-input]");if(!a&&e.id){let n=e.id.replace("-calendar-instance","");a=document.getElementById(n+"-hidden")}return a}function s(e){let t=l(e),a=e.querySelector("[data-tui-calendar-month-display]"),n=e.querySelector("[data-tui-calendar-weekdays]"),r=e.querySelector("[data-tui-calendar-days]");if(!a||!n||!r)return;let d=m(t.locale);if(a.textContent=`${d[t.currentMonth]} ${t.currentYear}`,!n.children.length){let u=y(t.locale,t.startOfWeek);n.innerHTML=u.map(o=>`<div class="text-center text-xs text-muted-foreground font-medium">${o}</div>`).join("")}r.innerHTML="";let D=((new Date(Date.UTC(t.currentYear,t.currentMonth,1)).getUTCDay()-t.startOfWeek)%7+7)%7,p=new Date(Date.UTC(t.currentYear,t.currentMonth+1,0)).getUTCDate(),f=new Date,C=new Date(Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()));for(let u=0;u<D;u++)r.innerHTML+='<div class="h-8 w-8"></div>';for(let u=1;u<=p;u++){let o=new Date(Date.UTC(t.currentYear,t.currentMonth,u)),T=t.selectedDate&&o.getTime()===t.selectedDate.getTime(),b=o.getTime()===C.getTime(),i="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium focus:outline-none focus:ring-1 focus:ring-ring";T?i+=" bg-primary text-primary-foreground hover:bg-primary/90":b?i+=" bg-accent text-accent-foreground":i+=" hover:bg-accent hover:text-accent-foreground",r.innerHTML+=`<button type="button" class="${i}" data-tui-calendar-day="${u}">${u}</button>`}}document.addEventListener("click",e=>{if(e.target.matches("[data-tui-calendar-prev]")){let t=e.target.closest("[data-tui-calendar-container]");if(!t)return;let a=l(t),n=a.currentMonth-1,r=a.currentYear;n<0&&(n=11,r--),c(t,n,r,a.selectedDate),s(t);return}if(e.target.matches("[data-tui-calendar-next]")){let t=e.target.closest("[data-tui-calendar-container]");if(!t)return;let a=l(t),n=a.currentMonth+1,r=a.currentYear;n>11&&(n=0,r++),c(t,n,r,a.selectedDate),s(t);return}if(e.target.matches("[data-tui-calendar-day]")){let t=e.target.closest("[data-tui-calendar-container]");if(!t)return;let a=l(t),n=parseInt(e.target.dataset.tuiCalendarDay),r=new Date(Date.UTC(a.currentYear,a.currentMonth,n));c(t,a.currentMonth,a.currentYear,r);let d=h(t);d&&(d.value=r.toISOString().split("T")[0],d.dispatchEvent(new Event("change",{bubbles:!0}))),t.dispatchEvent(new CustomEvent("calendar-date-selected",{bubbles:!0,detail:{date:r}})),s(t)}}),document.addEventListener("reset",e=>{e.target.matches("form")&&e.target.querySelectorAll("[data-tui-calendar-container]").forEach(t=>{let a=h(t);a&&(a.value="");let n=new Date;c(t,n.getMonth(),n.getFullYear(),null),s(t)})}),new MutationObserver(()=>{document.querySelectorAll("[data-tui-calendar-container]:not([data-rendered])").forEach(e=>{e.setAttribute("data-rendered","true");let t=parseInt(e.getAttribute("data-tui-calendar-initial-month")),a=parseInt(e.getAttribute("data-tui-calendar-initial-year")),n=e.getAttribute("data-tui-calendar-selected-date");c(e,isNaN(t)?new Date().getMonth():t,isNaN(a)?new Date().getFullYear():a,n?g(n):null),s(e)})}).observe(document.body,{childList:!0,subtree:!0})})();})();
