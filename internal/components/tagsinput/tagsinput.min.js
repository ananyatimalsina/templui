(()=>{(function(){function g(r){let a=r.querySelector("[data-text-input]"),s=r.querySelector("[data-hidden-inputs]"),l=r.querySelector("[data-tags-container]"),m=r.dataset.name,d=a?a.hasAttribute("disabled"):!1;if(!a)return;function h(t,e){let n=document.createElement("div");n.setAttribute("data-tag-chip",""),n.className="inline-flex items-center gap-2 rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground";let i=document.createElement("span");i.textContent=t;let o=document.createElement("button");return o.type="button",o.className="ml-1 text-current hover:text-destructive disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",o.setAttribute("data-tag-remove",""),e&&(o.disabled=!0),o.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 pointer-events-none" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      `,n.appendChild(i),n.appendChild(o),n}function v(t){if(d)return;let e=t.trim();if(!e)return;let n=s.querySelectorAll('input[type="hidden"]');for(let y of n)if(y.value.toLowerCase()===e.toLowerCase()){a.value="";return}let i=h(e,d),o=document.createElement("input");o.type="hidden",o.name=m,o.value=e,l.appendChild(i),s.appendChild(o),a.value=""}function c(t){if(d)return;let e=t.closest("[data-tag-chip]");if(!e)return;let n=e.querySelector("span").textContent.trim(),i=s.querySelector(`input[type="hidden"][value="${n}"]`);i&&i.remove(),e.remove()}function p(t){if(t.key==="Enter"||t.key===",")t.preventDefault(),v(a.value);else if(t.key==="Backspace"&&a.value===""){t.preventDefault();let e=l.querySelector("[data-tag-chip]:last-child");if(e){let n=e.querySelector("[data-tag-remove]");n&&c(n)}}}function f(t){t.target.closest("[data-tag-remove]")?(t.preventDefault(),t.stopPropagation(),c(t.target.closest("[data-tag-remove]"))):t.target.closest("input")||a.focus()}a.removeEventListener("keydown",p),a.addEventListener("keydown",p),r.removeEventListener("click",f),r.addEventListener("click",f)}function u(r=document){r.querySelectorAll("[data-tags-input]").forEach(g)}window.templUI=window.templUI||{},window.templUI.tagsInput={init:u},document.addEventListener("DOMContentLoaded",()=>u())})();})();
