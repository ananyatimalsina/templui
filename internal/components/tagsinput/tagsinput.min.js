(()=>{(function(){function g(r){let o=r.querySelector("[data-text-input]"),s=r.querySelector("[data-hidden-inputs]"),u=r.querySelector("[data-tags-container]"),m=r.dataset.name,d=o?o.hasAttribute("disabled"):!1;if(!o)return;function h(t,e){let n=document.createElement("div");n.setAttribute("data-tag-chip",""),n.className="inline-flex items-center gap-2 rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground";let i=document.createElement("span");i.textContent=t;let a=document.createElement("button");return a.type="button",a.className="ml-1 text-current hover:text-destructive disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",a.setAttribute("data-tag-remove",""),e&&(a.disabled=!0),a.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 pointer-events-none" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      `,n.appendChild(i),n.appendChild(a),n}function v(t){if(d)return;let e=t.trim();if(!e)return;let n=s.querySelectorAll('input[type="hidden"]');for(let y of n)if(y.value.toLowerCase()===e.toLowerCase()){o.value="";return}let i=h(e,d),a=document.createElement("input");a.type="hidden",a.name=m,a.value=e,u.appendChild(i),s.appendChild(a),o.value=""}function c(t){if(d)return;let e=t.closest("[data-tag-chip]");if(!e)return;let n=e.querySelector("span").textContent.trim(),i=s.querySelector(`input[type="hidden"][value="${n}"]`);i&&i.remove(),e.remove()}function p(t){if(t.key==="Enter"||t.key===",")t.preventDefault(),v(o.value);else if(t.key==="Backspace"&&o.value===""){t.preventDefault();let e=u.querySelector("[data-tag-chip]:last-child");if(e){let n=e.querySelector("[data-tag-remove]");n&&c(n)}}}function f(t){t.target.closest("[data-tag-remove]")?(t.preventDefault(),t.stopPropagation(),c(t.target.closest("[data-tag-remove]"))):t.target.closest("input")||o.focus()}o.removeEventListener("keydown",p),o.addEventListener("keydown",p),r.removeEventListener("click",f),r.addEventListener("click",f)}function l(r=document){r.querySelectorAll("[data-tags-input]").forEach(g)}window.templUI||(window.templUI={}),window.templUI.tagsInput={initAllComponents:l},document.addEventListener("DOMContentLoaded",()=>l())})();})();
