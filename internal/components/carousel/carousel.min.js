(()=>{(function(){"use strict";let f=new Map;document.addEventListener("click",t=>{if(t.target.closest("[data-tui-carousel-prev]")){let a=t.target.closest("[data-tui-carousel]");a&&c(a,-1);return}if(t.target.closest("[data-tui-carousel-next]")){let a=t.target.closest("[data-tui-carousel]");a&&c(a,1);return}let e=t.target.closest("[data-tui-carousel-indicator]");if(e){let a=e.closest("[data-tui-carousel]"),n=parseInt(e.dataset.tuiCarouselIndicator);a&&!isNaN(n)&&u(a,n)}});let r=null;function h(t){let e=t.target.closest("[data-tui-carousel-track]");if(!e)return;let a=e.closest("[data-tui-carousel]");if(!a)return;t.preventDefault();let n=t.touches?t.touches[0].clientX:t.clientX;r={carousel:a,track:e,startX:n,currentX:n,startTime:Date.now()},e.style.cursor="grabbing",e.style.transition="none",i(a)}function y(t){if(!r)return;let e=t.touches?t.touches[0].clientX:t.clientX;r.currentX=e;let a=e-r.startX,s=-parseInt(r.carousel.dataset.tuiCarouselCurrent||"0")*100+a/r.track.offsetWidth*100;r.track.style.transform=`translateX(${s}%)`}function m(t){if(!r)return;let{carousel:e,track:a,startX:n,startTime:s}=r,o=t.changedTouches?t.changedTouches[0].clientX:t.clientX||r.currentX;a.style.cursor="",a.style.transition="";let l=n-o,g=Math.abs(l)/(Date.now()-s);if(Math.abs(l)>50||g>.5)c(e,l>0?1:-1);else{let d=parseInt(e.dataset.tuiCarouselCurrent||"0");u(e,d)}r=null,e.dataset.tuiCarouselAutoplay==="true"&&!e.matches(":hover")&&C(e)}document.addEventListener("mousedown",h),document.addEventListener("mousemove",y),document.addEventListener("mouseup",m),document.addEventListener("mouseleave",t=>{t.target===document.documentElement&&m(t)}),document.addEventListener("touchstart",h,{passive:!1}),document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("touchend",m,{passive:!1});function c(t,e){let a=parseInt(t.dataset.tuiCarouselCurrent||"0"),s=t.querySelectorAll("[data-tui-carousel-item]").length;if(s===0)return;let o=a+e;t.dataset.tuiCarouselLoop==="true"?o=(o%s+s)%s:o=Math.max(0,Math.min(o,s-1)),u(t,o)}function u(t,e){let a=t.querySelector("[data-tui-carousel-track]"),n=t.querySelectorAll("[data-tui-carousel-indicator]"),s=t.querySelector("[data-tui-carousel-prev]"),o=t.querySelector("[data-tui-carousel-next]"),g=t.querySelectorAll("[data-tui-carousel-item]").length;t.dataset.tuiCarouselCurrent=e,a&&(a.style.transform=`translateX(-${e*100}%)`),n.forEach((v,p)=>{v.dataset.tuiCarouselActive=p===e?"true":"false",v.classList.toggle("bg-primary",p===e),v.classList.toggle("bg-foreground/30",p!==e)});let d=t.dataset.tuiCarouselLoop==="true";s&&(s.disabled=!d&&e===0,s.classList.toggle("opacity-50",s.disabled)),o&&(o.disabled=!d&&e===g-1,o.classList.toggle("opacity-50",o.disabled))}function C(t){if(t.dataset.tuiCarouselAutoplay!=="true")return;i(t);let e=parseInt(t.dataset.tuiCarouselInterval||"5000"),a=setInterval(()=>{if(!document.contains(t)){i(t);return}t.matches(":hover")||r?.carousel===t||c(t,1)},e);f.set(t,a)}function i(t){let e=f.get(t);e&&(clearInterval(e),f.delete(t))}function L(){document.querySelectorAll("[data-tui-carousel]").forEach(t=>{let e=parseInt(t.dataset.tuiCarouselCurrent||"0");u(t,e),t.dataset.tuiCarouselAutoplay==="true"&&new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting?C(s.target):i(s.target)})}).observe(t)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L()})();})();
