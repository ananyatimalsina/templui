(()=>{(function(){let p=!1,i=new Map,u=null;function y(){if(p)return;p=!0,document.addEventListener("click",e=>{if(e.target.closest(".carousel-prev")){let s=e.target.closest(".carousel-component");s&&a(s,-1);return}if(e.target.closest(".carousel-next")){let s=e.target.closest(".carousel-component");s&&a(s,1);return}let o=e.target.closest(".carousel-indicator");if(o){let s=o.closest(".carousel-component");if(s){let n=s.querySelectorAll(".carousel-indicator"),c=Array.from(n).indexOf(o);c>=0&&d(s,c)}}});let t=0;document.addEventListener("touchstart",e=>{e.target.closest(".carousel-track")&&(t=e.touches[0].clientX)},{passive:!0}),document.addEventListener("touchend",e=>{let o=e.target.closest(".carousel-track");if(o){let s=o.closest(".carousel-component"),n=e.changedTouches[0].clientX,c=t-n;Math.abs(c)>50&&a(s,c>0?1:-1)}},{passive:!0}),u=new IntersectionObserver(e=>{e.forEach(o=>{let s=o.target;o.isIntersecting&&s.dataset.tuiCarouselAutoplay==="true"?h(s):g(s)})})}function a(t,e){let o=parseInt(t.dataset.currentIndex||"0"),n=t.querySelectorAll(".carousel-item").length,c=t.dataset.tuiCarouselLoop==="true",r=o+e;c?r=(r+n)%n:r=Math.max(0,Math.min(r,n-1)),d(t,r)}function d(t,e){let o=t.querySelector(".carousel-track"),s=t.querySelectorAll(".carousel-indicator"),n=t.querySelector(".carousel-prev"),c=t.querySelector(".carousel-next"),r=t.querySelectorAll(".carousel-item").length,v=t.dataset.tuiCarouselLoop==="true";t.dataset.currentIndex=e,o.style.transform=`translateX(-${e*100}%)`,s.forEach((l,f)=>{f<r?(l.style.display="",l.classList.toggle("bg-white",f===e),l.classList.toggle("bg-white/50",f!==e)):l.style.display="none"}),n&&(n.disabled=!v&&e===0,n.classList.toggle("opacity-50",n.disabled),n.classList.toggle("cursor-not-allowed",n.disabled)),c&&(c.disabled=!v&&e===r-1,c.classList.toggle("opacity-50",c.disabled),c.classList.toggle("cursor-not-allowed",c.disabled))}function h(t){g(t);let e=parseInt(t.dataset.tuiCarouselInterval||"5000"),o=setInterval(()=>{t.matches(":hover")||a(t,1)},e);i.set(t,o)}function g(t){let e=i.get(t);e&&(clearInterval(e),i.delete(t))}function I(t){let e=parseInt(t.dataset.currentIndex||"0");d(t,e),t.dataset.tuiCarouselAutoplay==="true"&&u&&u.observe(t)}function m(t=document){y(),t.querySelectorAll(".carousel-component").forEach(I)}window.templUI=window.templUI||{},window.templUI.carousel={init:m},document.addEventListener("DOMContentLoaded",()=>m())})();})();
