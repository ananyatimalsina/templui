(()=>{(function(){function L(t){if(!t||typeof t!="string")return null;let e=t.match(/^(\d{1,2}):(\d{2})$/);if(!e)return null;let i=parseInt(e[1],10),r=parseInt(e[2],10);return i<0||i>23||r<0||r>59?null:{hour:i,minute:r}}function h(t,e,i){if(i){let r=t>=12?"PM":"AM";return`${(t===0?12:t>12?t-12:t).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")} ${r}`}return`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}function q(t,e){return`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}function P(t,e,i){t.querySelectorAll("[data-tui-timepicker-hour]").forEach(r=>{let u=parseInt(r.getAttribute("data-tui-timepicker-hour")),c=!1;e!==null&&(i?c=u===e||u===0&&e===12||u===e-12&&e>12:c=u===e),r.setAttribute("data-tui-timepicker-selected",c?"true":"false")})}function T(t,e){t.querySelectorAll("[data-tui-timepicker-minute]").forEach(i=>{let r=parseInt(i.getAttribute("data-tui-timepicker-minute"));i.setAttribute("data-tui-timepicker-selected",r===e?"true":"false")})}function $(t,e){let i=t.querySelector('[data-tui-timepicker-period="AM"]'),r=t.querySelector('[data-tui-timepicker-period="PM"]');if(!i||!r)return;let u=e===null||e<12;i.setAttribute("data-tui-timepicker-active",u?"true":"false"),r.setAttribute("data-tui-timepicker-active",u?"false":"true")}function w(t,e,i,r,u){let c=t.querySelector("[data-tui-timepicker-display]");if(c)if(e!==null&&i!==null){let S=h(e,i,r);c.textContent=S,c.classList.remove("text-muted-foreground")}else c.textContent=u,c.classList.add("text-muted-foreground")}function C(t,e,i){t&&(e!==null&&i!==null?t.value=q(e,i):t.value="")}function y(t){if(!t||t.hasAttribute("data-tui-timepicker-initialized"))return;t.setAttribute("data-tui-timepicker-initialized","true");let e=t.id,i=e+"-content",r=t.getAttribute("data-tui-timepicker-use12hours")==="true",u=t.getAttribute("data-tui-timepicker-am-label")||"AM",c=t.getAttribute("data-tui-timepicker-pm-label")||"PM",S=t.getAttribute("data-tui-timepicker-placeholder")||"Select time",n=null,p=null,x=e+"-hidden",l=document.getElementById(x);if(!l){let a=t.parentElement;a&&(l=a.querySelector("[data-tui-timepicker-hidden-input]"))}let v=document.getElementById(i);if(!v){console.error("TimePicker init error: Missing popup content.",{timePickerID:e,popupId:i});return}let s=v.querySelector("[data-tui-timepicker-popup]"),f=s?.querySelector("[data-tui-timepicker-hour-list]"),k=s?.querySelector("[data-tui-timepicker-minute-list]"),A=s?.querySelector("[data-tui-timepicker-done]");if(!s||!f||!k||!A||!l){console.error("TimePicker init error: Missing required elements.",{timePickerID:e,popup:s,hourList:f,minuteList:k,doneButton:A,hiddenInput:l});return}let M=l.value||s.getAttribute("data-tui-timepicker-value");if(M){let a=L(M);a&&(n=a.hour,p=a.minute)}function m(){w(t,n,p,r,S),C(l,n,p),P(f,n,r),T(k,p),r&&$(s,n)}f.addEventListener("click",a=>{let d=a.target.closest("[data-tui-timepicker-hour]");if(!d)return;let o=parseInt(d.getAttribute("data-tui-timepicker-hour"),10);if(r){let E=n!==null&&n>=12;o===0?o=E?12:0:o=E?o+12:o}n=o,m()}),k.addEventListener("click",a=>{let d=a.target.closest("[data-tui-timepicker-minute]");d&&(p=parseInt(d.getAttribute("data-tui-timepicker-minute"),10),m())}),r&&s.addEventListener("click",a=>{let d=a.target.closest("[data-tui-timepicker-period]");if(!d)return;let o=d.getAttribute("data-tui-timepicker-period");n!==null&&(o==="AM"?n>=12&&(n=n===12?0:n-12):o==="PM"&&n<12&&(n=n===0?12:n+12),m())}),A.addEventListener("click",()=>{let a=t.closest("[data-tui-popover]")?.querySelector("[data-tui-popover-trigger]");a instanceof HTMLElement?a.click():t.click()}),m();let I=l.closest("form")||t.closest("form");I&&I.addEventListener("reset",()=>{n=null,p=null,l.value="",m()}),t._timePickerCleanup=()=>{}}function b(t=document){t instanceof Element&&t.matches('[data-tui-timepicker="true"]')&&y(t),t.querySelectorAll('[data-tui-timepicker="true"]:not([data-tui-timepicker-initialized])').forEach(e=>{y(e)})}window.templUI=window.templUI||{},window.templUI.timePicker={init:b},document.addEventListener("DOMContentLoaded",()=>b())})();})();
