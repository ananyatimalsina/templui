(()=>{(function(){"use strict";function m(t){if(!t||typeof t!="string")return null;let i=t.match(/^(\d{1,2}):(\d{2})$/);if(!i)return null;let e=parseInt(i[1],10),n=parseInt(i[2],10);return e<0||e>23||n<0||n>59?null:{hour:e,minute:n}}function E(t,i,e){if(e){let n=t>=12?"PM":"AM";return`${(t===0?12:t>12?t-12:t).toString().padStart(2,"0")}:${i.toString().padStart(2,"0")} ${n}`}return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}function P(t,i){return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}function f(t,i,e,n){if(!e&&!n)return!0;let u=t*60+i;if(e){let r=e.hour*60+e.minute;if(u<r)return!1}if(n){let r=n.hour*60+n.minute;if(u>r)return!1}return!0}function g(t,i,e,n){if(!e&&!n)return!0;for(let u=0;u<60;u++)if(f(t,u,e,n))return!0;return!1}function M(t){let e=t.id+"-hidden",n=document.getElementById(e);if(!n){let u=t.parentElement;u&&(n=u.querySelector("[data-tui-timepicker-hidden-input]"))}return n}function L(t){let e=t.id+"-content",n=document.getElementById(e);if(!n)return null;let u=n.querySelector("[data-tui-timepicker-popup]");return u?{popup:u,hourList:u.querySelector("[data-tui-timepicker-hour-list]"),minuteList:u.querySelector("[data-tui-timepicker-minute-list]")}:null}function b(t){let i=t.dataset.tuiTimepickerCurrentHour,e=t.dataset.tuiTimepickerCurrentMinute;return{hour:i!==void 0?parseInt(i,10):null,minute:e!==void 0?parseInt(e,10):null}}function h(t,i,e){i!==null?t.dataset.tuiTimepickerCurrentHour=i:delete t.dataset.tuiTimepickerCurrentHour,e!==null?t.dataset.tuiTimepickerCurrentMinute=e:delete t.dataset.tuiTimepickerCurrentMinute}function T(t){let i=t.querySelector("[data-tui-timepicker-display]");if(!i)return;let{hour:e,minute:n}=b(t),u=t.getAttribute("data-tui-timepicker-use12hours")==="true",r=t.getAttribute("data-tui-timepicker-placeholder")||"Select time";if(e!==null&&n!==null){let c=E(e,n,u);i.textContent=c,i.classList.remove("text-muted-foreground")}else i.textContent=r,i.classList.add("text-muted-foreground");let o=M(t);o&&(e!==null&&n!==null?o.value=P(e,n):o.value="");let a=L(t);if(a&&a.hourList&&a.minuteList){let c=t.getAttribute("data-tui-timepicker-min-time")||"",s=t.getAttribute("data-tui-timepicker-max-time")||"",l=c?m(c):null,d=s?m(s):null;q(a.hourList,e,u,n,l,d),C(a.minuteList,n,e,l,d),u&&w(a.popup,e)}}function q(t,i,e,n,u,r){t.querySelectorAll("[data-tui-timepicker-hour]").forEach(o=>{let a=parseInt(o.getAttribute("data-tui-timepicker-hour")),c=!1;i!==null&&(e?c=a===i||a===0&&i===12||a===i-12&&i>12:c=a===i);let s=e&&a===0?i>=12?12:0:a,l=g(s,n,u,r);o.setAttribute("data-tui-timepicker-selected",c?"true":"false"),o.disabled=!l,l?o.classList.remove("opacity-50","cursor-not-allowed"):o.classList.add("opacity-50","cursor-not-allowed")})}function C(t,i,e,n,u){t.querySelectorAll("[data-tui-timepicker-minute]").forEach(r=>{let o=parseInt(r.getAttribute("data-tui-timepicker-minute")),a=o===i,c=e===null||f(e,o,n,u);r.setAttribute("data-tui-timepicker-selected",a?"true":"false"),r.disabled=!c,c?r.classList.remove("opacity-50","cursor-not-allowed"):r.classList.add("opacity-50","cursor-not-allowed")})}function w(t,i){let e=t.querySelector('[data-tui-timepicker-period="AM"]'),n=t.querySelector('[data-tui-timepicker-period="PM"]');if(!e||!n)return;let u=i===null||i<12;e.setAttribute("data-tui-timepicker-active",u?"true":"false"),n.setAttribute("data-tui-timepicker-active",u?"false":"true")}function y(t){let i=t.closest("[data-tui-timepicker-popup]");if(!i)return null;let e=i.closest("[id]");if(!e)return null;let u=e.id.replace("-content","");return document.getElementById(u)}document.addEventListener("click",t=>{let i=t.target.closest("[data-tui-timepicker-hour]");if(i&&!i.disabled){let r=y(i);if(!r)return;let o=parseInt(i.getAttribute("data-tui-timepicker-hour"),10),a=r.getAttribute("data-tui-timepicker-use12hours")==="true",{hour:c,minute:s}=b(r);if(a){let I=c!==null&&c>=12;o===0?o=I?12:0:o=I?o+12:o}let l=r.getAttribute("data-tui-timepicker-min-time")||"",d=r.getAttribute("data-tui-timepicker-max-time")||"",k=l?m(l):null,S=d?m(d):null;if(!g(o,s,k,S))return;let A=s;if(s!==null&&!f(o,s,k,S)){let I=parseInt(r.getAttribute("data-tui-timepicker-step")||"1",10);A=null;for(let p=0;p<60;p+=I)if(f(o,p,k,S)){A=p;break}}h(r,o,A),T(r);return}let e=t.target.closest("[data-tui-timepicker-minute]");if(e&&!e.disabled){let r=y(e);if(!r)return;let o=parseInt(e.getAttribute("data-tui-timepicker-minute"),10),{hour:a}=b(r);if(a!==null){let c=r.getAttribute("data-tui-timepicker-min-time")||"",s=r.getAttribute("data-tui-timepicker-max-time")||"",l=c?m(c):null,d=s?m(s):null;if(!f(a,o,l,d))return}h(r,a,o),T(r);return}let n=t.target.closest("[data-tui-timepicker-period]");if(n){let r=y(n);if(!r)return;let o=n.getAttribute("data-tui-timepicker-period"),{hour:a,minute:c}=b(r);if(a===null)return;let s=a;o==="AM"?a>=12&&(s=a===12?0:a-12):o==="PM"&&a<12&&(s=a===0?12:a+12);let l=r.getAttribute("data-tui-timepicker-min-time")||"",d=r.getAttribute("data-tui-timepicker-max-time")||"",k=l?m(l):null,S=d?m(d):null;if(!g(s,c,k,S))return;let A=c;if(c!==null&&!f(s,c,k,S)){let I=parseInt(r.getAttribute("data-tui-timepicker-step")||"1",10);A=null;for(let p=0;p<60;p+=I)if(f(s,p,k,S)){A=p;break}}h(r,s,A),T(r);return}let u=t.target.closest("[data-tui-timepicker-done]");if(u){let r=y(u);if(!r)return;let o=r.id+"-content";window.closePopover&&window.closePopover(o);return}}),document.addEventListener("reset",t=>{if(!t.target.matches("form"))return;t.target.querySelectorAll('[data-tui-timepicker="true"]').forEach(e=>{h(e,null,null);let n=M(e);n&&(n.value=""),T(e)})});function v(){document.querySelectorAll('[data-tui-timepicker="true"]').forEach(t=>{if(t.hasAttribute("data-tui-timepicker-state-initialized"))return;t.setAttribute("data-tui-timepicker-state-initialized","true");let i=M(t),e=L(t)?.popup,n=i?.value||e?.getAttribute("data-tui-timepicker-value");if(n){let u=m(n);u&&h(t,u.hour,u.minute)}T(t)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",v):v();let x;new MutationObserver(()=>{clearTimeout(x),x=setTimeout(()=>{v()},10)}).observe(document.body,{childList:!0,subtree:!0})})();})();
